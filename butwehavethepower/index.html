<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Union Strike Folk Song</title>
<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>

<h1 id="title">Union Strike Folk Song</h1>

<video src="https://www.cs.tufts.edu/comp/20/butwehavethepower.mp4" id="butwehavethepower" controls></video>
<div id="lyrics"></div>

<script>
	//create an array for the lyrics
	words = [
	" ",
	"Lisa:",
	"Come gather round, children",
	"It's high time ye learned",
	"'Bout a hero named Homer",
	"And a devil named Burns.",
	" ",
	"We'll march 'till we drop", 
	"The girls and the fellas.",
	"We'll fight 'till the death", 
	"Or else fold like umbrellas.",
	" ",
	"So we'll march day and night",
	"By the big cooling tower.",
	"They have the plant",
	"But we have the power.",
	" ",
	"Lenny:",
	"Now do Classical Gas!",
	" ",
	"So we'll march day and night",
	"By the big cooling tower.",
	"They have the plant",
	"But we have the power.",
	"So we'll march day and night",
	"By the big cooling tower.",
	"They have the plant",
	"But we have the power.",
	" "];

	//create an array for the time in seconds when each line of lyrics start
	lyricStart = [5, 6, 9, 11, 14, 16, 18, 19, 21, 23, 26, 37, 40, 43, 45, 49, 52, 53, 56, 72, 75, 78, 80, 82, 84, 87, 89, 91];


	function displayLyrics(){
		var lyrics = document.getElementById("lyrics"); 
		const videoPlayer = document.getElementById("butwehavethepower");
		var secs = Math.floor (videoPlayer.currentTime);
		//iterate through the times an print the line for the elasped time
		for (var i = 0; i < 28; i++){
			if(secs < lyricStart[i]){
				lyrics.innerHTML = words[i++]; 
				break;
			}	
		}
	}
	
	document.getElementById("butwehavethepower").addEventListener("timeupdate",displayLyrics, false);


</script>
</body>
</html>	